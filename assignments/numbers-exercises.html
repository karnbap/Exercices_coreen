  <!DOCTYPE html>
  <html lang="fr">
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <title>Coréen — Nombres | Exos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/assets/style.css?v=4.4">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
      :root{--ink:#0f172a;--muted:#64748b;--brand:#2563eb;--brand-700:#1d4ed8;--surface:#f4f6f8;--card:#ffffff;--border:#e5e7eb}
      body{font-family:'Poppins','Noto Sans KR',sans-serif;background:var(--surface);color:var(--ink)}
      .topbar{position:sticky;top:0;z-index:40;background:#ffffffd9;backdrop-filter:saturate(1.2) blur(6px);border-bottom:1px solid var(--border)}
      .quiz-container{max-width:960px;margin:1.5rem auto;padding:1.5rem;background:var(--card);border-radius:1rem;border:1px solid var(--border);box-shadow:0 8px 20px rgba(15,23,42,.06)}
      .card{background:#fff;border:1px solid var(--border);border-radius:1rem;padding:1rem;box-shadow:0 1px 2px rgba(16,24,40,.06)}
      .btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.6rem .9rem;border-radius:.8rem;font-weight:700;border:1px solid transparent;cursor:pointer}
      .btn-primary{background:var(--brand);color:#fff}.btn-primary:hover{background:var(--brand-700)}
      .btn-secondary{background:#f8fafc;border-color:var(--border);color:#111827}
      .btn-outline{background:#fff;border-color:var(--border);color:#111827}
      .input{width:100%;border:2px solid #cbd5e1;border-radius:.75rem;padding:.65rem .8rem}
      .input:focus{outline:none;border-color:#93c5fd}
  
      /* choices & feedback */
      .choices{display:flex;flex-wrap:wrap;gap:.5rem}
      .choice-btn{padding:.6rem .9rem;border:1px solid var(--border);border-radius:.75rem;background:#fff;font-weight:600}
      .choice-btn:hover{border-color:#cbd5e1}
      .choice-btn.is-correct{background:#ecfdf5;border-color:#a7f3d0}
      .choice-btn.is-wrong{background:#fff5f5;border-color:#fecaca}
      .feedback{font-size:.9rem;margin-top:.5rem}
      .feedback.bad{color:#b91c1c}.feedback.good{color:#065f46}
      @keyframes shake{10%,90%{transform:translateX(-2px)}20%,80%{transform:translateX(4px)}30%,50%,70%{transform:translateX(-6px)}40%,60%{transform:translateX(6px)}}
      .shake{animation:shake .45s ease}
  
      /* pronun box */
      .pronun-card{background:#fff;border:1px solid var(--border);border-radius:1rem;padding:1rem}
      .pronun-title{font-weight:700;margin-bottom:.25rem}
      .soft-divider{height:1px;margin:1.25rem 0;background:linear-gradient(to right, transparent, var(--border), transparent)}
      .sum-box{background:#fff;border:1px solid var(--border);border-radius:1rem;padding:1rem;box-shadow:0 1px 2px rgba(16,24,40,.06)}
      .sum-title{font-size:.8rem;color:#64748b;margin-bottom:.25rem}
      .sum-val{font-size:1.5rem;font-weight:800;line-height:1}
      .sum-sub{font-size:.8rem;color:#94a3b8}
    </style>
  </head>
  
  <body>
    <div class="topbar">
      <div class="max-w-5xl mx-auto px-4 py-2 flex items-center justify-between gap-3">
        <div class="flex items-center gap-3 text-sm text-slate-600">
  <i class="fa-solid fa-water"></i>
  <span>made by 성일, Pongdang · <a href="mailto:Lapeace29@gmail.com" class="underline">Lapeace29@gmail.com</a></span>
</div>

        <div class="flex items-center gap-2">
          <button onclick="window.print()" class="btn btn-outline"><i class="fa-solid fa-print"></i> Imprimer / 인쇄</button>
        </div>
      </div>
    </div>
  
    <main class="quiz-container space-y-4">
      <!-- 1) 이름 확인 -->
      <section class="card">
        <label class="block text-sm mb-1">Nom de l’élève / 학생 이름</label>
        <input id="student-name" class="input" placeholder="Ex. Camille Durand"/>
  <script>
  (function(){
    const el = document.getElementById('student-name');
    if(!el) return;
    const fr = [
      'Camille Durand','Louis Martin','Chloé Bernard','Hugo Moreau',
      'Léa Petit','Jules Lefèvre','Emma Robert','Nolan Roussel',
      'Zoé Garcia','Lucas Fontaine','Manon Chevalier','Léo Caron'
    ];
    el.placeholder = fr[Math.floor(Math.random()*fr.length)];
  })();
</script>

        <p class="text-xs text-slate-500 mt-1">Tu as écrit ton nom ? / 이름 썼나요?</p>
      </section>
  
      <!-- 2) 진행바 + 5×5 스티키 -->
      <section class="card">
        <div class="flex justify-between items-center mb-2">
          <span id="progressText" class="text-sm text-slate-600"></span>
          <button id="btnPrintTop" class="btn btn-outline" onclick="window.print()"><i class="fa-solid fa-print"></i> Imprimer / 인쇄</button>
        </div>
        <div class="w-full h-2 bg-slate-200 rounded">
          <div id="progressBar" class="h-2 bg-blue-500 rounded" style="width:0%"></div>
        </div>
        <div id="sticky55" class="mt-3 hidden">
          <div class="p-3 rounded-lg bg-white border border-slate-200 shadow-sm flex flex-wrap gap-2 items-center justify-between">
            <span class="text-sm font-semibold text-slate-700">Méthode 5×5 (Quand vous voulez / 필요할 때 언제든 듣기)</span>
            <div class="flex flex-wrap gap-2">
              <button class="btn btn-primary" onclick="Quiz.playAudio('하나, 둘, 셋, 넷, 다섯','alloy',{speed:1.2,_btn:this})">1–5 natifs</button>
              <button class="btn btn-primary" onclick="Quiz.playAudio('여섯, 일곱, 여덟, 아홉, 열','shimmer',{speed:1.2,_btn:this})">6–10 natifs</button>
              <button class="btn btn-primary" onclick="Quiz.playAudio('일, 이, 삼, 사, 오','alloy',{speed:1.2,_btn:this})">1–5 Hanja</button>
              <button class="btn btn-primary" onclick="Quiz.playAudio('육, 칠, 팔, 구, 십','alloy',{speed:1.2,_btn:this})">6–10 Hanja</button>
            </div>
          </div>
        </div>
      </section>
  

<!-- 문제 영역 -->
<section id="qArea" class="card"></section>

  
      <!-- 4) 네비게이션 -->
  
      <section class="card flex gap-2 justify-between items-center">
        <button id="btnPrev" class="btn btn-secondary">← Précédent (이전)</button>
        <div class="flex gap-2">
          <button id="btnNext" class="btn btn-primary" disabled>Suivant (다음) →</button>
          <button id="btnFinish" class="btn btn-outline hidden">Terminer / 끝내기</button>
        </div>
      </section>
      <section class="card mt-2">
      <a href="./numbers-warmup.html" class="btn btn-outline w-full justify-center">
        ← Exercice précédent / 이전 연습문제
      </a>
    </section>

      <footer class="text-center text-xs text-slate-500 pt-2">
        made by 성일, Pongdang · Lapeace29@gmail.com
      </footer>
    </main>
  <script>window.PONGDANG_FN_BASE='/.netlify/functions';</script>
<script defer src="../assets/student-gate.js"></script>
<script defer src="../assets/results-compat.js?v=4.4"></script>
<script defer src="../assets/live-stt.js"></script>
<script defer src="../assets/pronun-client.js?v=4.6"></script>

<!-- ✅ 다음 문제 이동 가드 해제: quiz-numbers.js보다 먼저 둠 -->
<script>
// 1) 논리 가드 무력화
window.isNextAllowed = () => true;

// 2) 버튼 잠금 해제
function unlockNextButtons() {
  const sels = [
    '#btnNext', '#btnNextExos', '#go-next', '#btnToExercises', '#btn-go-ex',
    '[data-action="go-next"]', '[data-next]'
  ];
  document.querySelectorAll(sels.join(',')).forEach(btn => {
    try {
      btn.disabled = false;
      btn.classList?.remove('pointer-events-none','opacity-50');
      btn.removeAttribute?.('aria-disabled');
      btn.title = '';
    } catch(_) {}
  });
}
// 초기/갱신 시점에 반복 호출
document.addEventListener('DOMContentLoaded', unlockNextButtons);
document.addEventListener('eval:updated', unlockNextButtons);
document.addEventListener('click', (e)=>{
  if (e.target.closest('#btnEval,#btn-eval,[data-action="eval"]')) {
    setTimeout(unlockNextButtons, 0);
  }
});

// (선택) 혹시 외부 스크립트가 다시 잠그면 바로 풀도록 감시자 추가
new MutationObserver(unlockNextButtons).observe(document.body, {subtree:true, attributes:true, attributeFilter:['disabled','class','aria-disabled']});
</script>


<!-- ✅ 최신만 유지 -->
<script src="../assets/quiz-numbers.js?v=20250922-0130" defer></script>


// 초기/갱신 타이밍마다 열어두기
document.addEventListener('DOMContentLoaded', unlockNextButtons);
document.addEventListener('eval:updated', unlockNextButtons);   // 평가 로직이 이벤트 쏘면 여기서도 언락
document.addEventListener('click', (e)=>{
  if (e.target.closest('#btnEval,#btn-eval,[data-action="eval"]')) {
    // 평가 버튼 눌러도 곧바로 풀어둠
    setTimeout(unlockNextButtons, 0);
  }
});
</script>



  </body>
  </html>
