<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercice ecrit Cor√©en : Í∞ôÏïÑÏöî, Ï≤òÎüº, Í∞ôÏù¥, Í∞ôÏùÄ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Inter:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }

        .korean-font {
            font-family: 'Gowun Dodum', sans-serif;
        }

        .card {
            background-color: white;
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }

        .btn {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 0.75rem;
            font-weight: 600;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        
        .btn-secondary {
            background-color: #f3f4f6;
            color: #374151;
            border-color: #e5e7eb;
        }

        .btn-secondary:hover:not(:disabled) {
            background-color: #e5e7eb;
        }
        
        .btn.selected {
            background-color: #dbeafe;
            border-color: #93c5fd;
            color: #1e40af;
        }

        .btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        
        .exercise-item {
            padding: 1.5rem;
            border: 1px solid #e5e7eb;
            border-radius: 1rem;
            margin-bottom: 1.5rem;
            background-color: #ffffff;
            transition: background-color 0.3s;
        }
        
        .feedback {
            padding: 1rem;
            border-radius: 0.75rem;
            margin-top: 1rem;
        }
        .feedback.correct {
            background-color: #dcfce7;
            color: #166534;
        }
        .feedback.incorrect {
            background-color: #fee2e2;
            color: #991b1b;
        }
    </style>
</head>

<body class="text-slate-800">

    <div class="container mx-auto p-4 md:p-8 max-w-4xl">
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-blue-600 mb-2">Comme en Cor√©en (2-√âtapes) üá∞üá∑</h1>
            <p class="text-lg text-slate-600">Apprends √† utiliser Í∞ôÏïÑÏöî, Ï≤òÎüº, Í∞ôÏù¥, et Í∞ôÏùÄ !</p>
        </header>

        <!-- Exercises Section -->
        <section id="exercises">
            <div class="flex justify-between items-center mb-6">
                 <h2 class="text-3xl font-bold text-slate-700">Exercices (20)</h2>
                 <button id="reset-btn" class="btn btn-secondary">Recommencer</button>
            </div>
            
            <div id="exercise-list">
                <!-- Les exercices seront inject√©s ici par JS -->
            </div>
        </section>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const exercises = [
            { french: "Ce b√©b√© est comme un ange.", vocab: [{fr:"b√©b√©", ko:"ÏïÑÍ∏∞"}, {fr:"ange", ko:"Ï≤úÏÇ¨"}], typeAnswer: "etre", koreanParts: ["Ïù¥ ÏïÑÍ∏∞Îäî Ï≤úÏÇ¨", "."], fillAnswer: "Í∞ôÏïÑÏöî", chosungHint: "„Öá „Öá„Ñ±„Ñ¥ „Öä„ÖÖ „Ñ±„Öá„Öá." },
            { french: "Le temps est comme de l'or.", vocab: [{fr:"temps", ko:"ÏãúÍ∞Ñ"}, {fr:"or", ko:"Í∏à"}], typeAnswer: "etre", koreanParts: ["ÏãúÍ∞ÑÏùÄ Í∏à", "."], fillAnswer: "Í∞ôÏïÑÏöî", chosungHint: "„ÖÖ„Ñ±„Öá „Ñ± „Ñ±„Öá„Öá." },
            { french: "C'est une amie comme ma famille.", vocab: [{fr:"amie", ko:"ÏπúÍµ¨"}, {fr:"famille", ko:"Í∞ÄÏ°±"}], typeAnswer: "nom", koreanParts: ["Í∞ÄÏ°±", " ÏπúÍµ¨ÏòàÏöî."], fillAnswer: "Í∞ôÏùÄ", chosungHint: "„Ñ±„Öà „Ñ±„Öá „Öä„Ñ±„Öá„Öá." },
            { french: "J'ai un ami comme un fr√®re.", vocab: [{fr:"ami", ko:"ÏπúÍµ¨"}, {fr:"fr√®re", ko:"ÌòïÏ†ú"}], typeAnswer: "nom", koreanParts: ["ÌòïÏ†ú", " ÏπúÍµ¨Í∞Ä ÏûàÏñ¥Ïöî."], fillAnswer: "Í∞ôÏùÄ", chosungHint: "„Öé„Öà „Ñ±„Öá „Öä„Ñ±„Ñ± „Öá„Öá„Öá." },
            { french: "Il court comme le vent.", vocab: [{fr:"courir", ko:"Îã¨Î¶¨Îã§"}, {fr:"vent", ko:"Î∞îÎûå"}], typeAnswer: "verbe", koreanParts: ["Í∑∏Îäî Î∞îÎûå", " Îã¨Î†§Ïöî."], fillAnswer: "Ï≤òÎüº/Í∞ôÏù¥", chosungHint: "„Ñ±„Ñ¥ „ÖÇ„Ñπ„Öä„Ñπ „Ñ∑„Ñπ„Öá." },
            { french: "Elle chante comme une sir√®ne.", vocab: [{fr:"chanter", ko:"ÎÖ∏ÎûòÌïòÎã§"}, {fr:"sir√®ne", ko:"Ïù∏Ïñ¥"}], typeAnswer: "verbe", koreanParts: ["Í∑∏ÎÖÄÎäî Ïù∏Ïñ¥", " ÎÖ∏ÎûòÌï¥Ïöî."], fillAnswer: "Ï≤òÎüº/Í∞ôÏù¥", chosungHint: "„Ñ±„Ñ¥„Ñ¥ „Öá„Öá„Öä„Ñπ „Ñ¥„Ñπ„Öé„Öá." },
            { french: "Ceci est comme un r√™ve.", vocab: [{fr:"ceci", ko:"Ïù¥Í≤É"}, {fr:"r√™ve", ko:"Íøà"}], typeAnswer: "etre", koreanParts: ["Ïù¥Í±¥ Íøà", "."], fillAnswer: "Í∞ôÏïÑÏöî", chosungHint: "„Öá„Ñ± „Ñ≤ „Ñ±„Öá„Öá." },
            { french: "C'est une femme comme un renard.", vocab: [{fr:"femme", ko:"Ïó¨Ïûê"}, {fr:"renard", ko:"Ïó¨Ïö∞"}], typeAnswer: "nom", koreanParts: ["Ïó¨Ïö∞", " Ïó¨ÏûêÏòàÏöî."], fillAnswer: "Í∞ôÏùÄ", chosungHint: "„Öá„Öá „Ñ±„Öá „Öá„Öà„Öá„Öá." },
            { french: "Il danse comme un professionnel.", vocab: [{fr:"danser", ko:"Ï∂§Ï∂îÎã§"}, {fr:"professionnel", ko:"Ï†ÑÎ¨∏Í∞Ä"}], typeAnswer: "verbe", koreanParts: ["Í∑∏Îäî Ï†ÑÎ¨∏Í∞Ä", " Ï∂§ÏùÑ Ï∂∞Ïöî."], fillAnswer: "Ï≤òÎüº/Í∞ôÏù¥", chosungHint: "„Ñ±„Ñ¥ „Öà„ÖÅ„Ñ±„Öä„Ñπ „Öä„Öá „Öä„Öá." },
            { french: "Aujourd'hui est comme hier.", vocab: [{fr:"aujourd'hui", ko:"Ïò§Îäò"}, {fr:"hier", ko:"Ïñ¥Ï†ú"}], typeAnswer: "etre", koreanParts: ["Ïò§ÎäòÏùÄ Ïñ¥Ï†ú", "."], fillAnswer: "Í∞ôÏïÑÏöî", chosungHint: "„Öá„Ñ¥„Öá „Öá„Öà „Ñ±„Öá„Öá." },
            { french: "C'est un cadeau comme un tr√©sor.", vocab: [{fr:"cadeau", ko:"ÏÑ†Î¨º"}, {fr:"tr√©sor", ko:"Î≥¥Î¨º"}], typeAnswer: "nom", koreanParts: ["Î≥¥Î¨º", " ÏÑ†Î¨ºÏù¥ÏóêÏöî."], fillAnswer: "Í∞ôÏùÄ", chosungHint: "„ÖÇ„ÖÅ „Ñ±„Öá „ÖÖ„ÖÅ„Öá„Öá„Öá." },
            { french: "Elle parle comme un po√®te.", vocab: [{fr:"parler", ko:"ÎßêÌïòÎã§"}, {fr:"po√®te", ko:"ÏãúÏù∏"}], typeAnswer: "verbe", koreanParts: ["Í∑∏ÎÖÄÎäî ÏãúÏù∏", " ÎßêÌï¥Ïöî."], fillAnswer: "Ï≤òÎüº/Í∞ôÏù¥", chosungHint: "„Ñ±„Ñ¥„Ñ¥ „ÖÖ„Öá„Öä„Ñπ „ÖÅ„Öé„Öá." },
            { french: "Un coeur large comme la mer.", vocab: [{fr:"coeur", ko:"ÎßàÏùå"}, {fr:"mer", ko:"Î∞îÎã§"}], typeAnswer: "nom", koreanParts: ["Î∞îÎã§", " ÎÑìÏùÄ ÎßàÏùå."], fillAnswer: "Í∞ôÏùÄ", chosungHint: "„ÖÇ„Ñ∑ „Ñ±„Öá „Ñ¥„Öá „ÖÅ„Öá." },
            { french: "Il dort comme un ours.", vocab: [{fr:"dormir", ko:"ÏûêÎã§"}, {fr:"ours", ko:"Í≥∞"}], typeAnswer: "verbe", koreanParts: ["Í∑∏Îäî Í≥∞", " ÏûêÏöî."], fillAnswer: "Ï≤òÎüº/Í∞ôÏù¥", chosungHint: "„Ñ±„Ñ¥ „Ñ±„Öä„Ñπ „Öà„Öá." },
            { french: "Un enfant comme une poup√©e.", vocab: [{fr:"enfant", ko:"ÏïÑÏù¥"}, {fr:"poup√©e", ko:"Ïù∏Ìòï"}], typeAnswer: "nom", koreanParts: ["Ïù∏Ìòï", " ÏïÑÏù¥."], fillAnswer: "Í∞ôÏùÄ", chosungHint: "„Öá„Öé „Ñ±„Öá „Öá„Öá." },
            { french: "Il marche comme un robot.", vocab: [{fr:"marcher", ko:"Í±∑Îã§"}, {fr:"robot", ko:"Î°úÎ¥á"}], typeAnswer: "verbe", koreanParts: ["Í∑∏Îäî Î°úÎ¥á", " Í±∏Ïñ¥Ïöî."], fillAnswer: "Ï≤òÎüº/Í∞ôÏù¥", chosungHint: "„Ñ±„Ñ¥ „Ñπ„ÖÇ„Ñ±„Öá „Ñ±„Öá„Öá." },
            { french: "Une voix douce comme le sucre.", vocab: [{fr:"voix", ko:"Î™©ÏÜåÎ¶¨"}, {fr:"sucre", ko:"ÏÑ§ÌÉï"}], typeAnswer: "nom", koreanParts: ["ÏÑ§ÌÉï", " Î™©ÏÜåÎ¶¨."], fillAnswer: "Í∞ôÏùÄ", chosungHint: "„ÖÖ„Öå „Ñ±„Öá „ÖÅ„ÖÖ„Ñπ." },
            { french: "Il est lent comme une tortue.", vocab: [{fr:"lent", ko:"ÎäêÎ¶¨Îã§"}, {fr:"tortue", ko:"Í±∞Î∂ÅÏù¥"}], typeAnswer: "verbe", koreanParts: ["Í±∞Î∂ÅÏù¥", " ÎäêÎ†§Ïöî."], fillAnswer: "Ï≤òÎüº/Í∞ôÏù¥", chosungHint: "„Ñ±„ÖÇ„Öá„Öä„Ñπ „Ñ¥„Ñπ„Öá." },
            { french: "Cette personne est comme un acteur.", vocab: [{fr:"personne", ko:"ÏÇ¨Îûå"}, {fr:"acteur", ko:"Î∞∞Ïö∞"}], typeAnswer: "etre", koreanParts: ["Í∑∏ ÏÇ¨ÎûåÏùÄ Î∞∞Ïö∞", "."], fillAnswer: "Í∞ôÏïÑÏöî", chosungHint: "„Ñ± „ÖÖ„Ñπ„Öá „ÖÇ„Öá „Ñ±„Öá„Öá." },
            { french: "Il d√©pense de l'argent comme de l'eau.", vocab: [{fr:"d√©penser de l'argent", ko:"ÎèàÏùÑ Ïì∞Îã§"}, {fr:"eau", ko:"Î¨º"}], typeAnswer: "verbe", koreanParts: ["Î¨º", " ÎèàÏùÑ Ïç®Ïöî."], fillAnswer: "Ï≤òÎüº/Í∞ôÏù¥", chosungHint: "„ÖÅ„Öä„Ñπ „Ñ∑„Öá „ÖÜ„Öá." }
        ];

        const exerciseListContainer = document.getElementById('exercise-list');
        const resetBtn = document.getElementById('reset-btn');

        function renderExercises() {
            exerciseListContainer.innerHTML = '';
            exercises.forEach((ex, index) => {
                const exerciseEl = document.createElement('div');
                exerciseEl.className = 'exercise-item';
                exerciseEl.id = `ex-${index}`;

                const vocabList = ex.vocab.map(v => `<li class="text-sm"><span class="font-semibold">${v.fr}</span>: <span class="korean-font">${v.ko}</span></li>`).join('');

                exerciseEl.innerHTML = `
                    <div class="flex items-start">
                        <span class="text-xl font-bold text-blue-500 mr-4">${index + 1}.</span>
                        <div class="w-full">
                            <p class="font-semibold text-lg text-slate-800 mb-2">"${ex.french}"</p>
                            <ul class="list-disc list-inside bg-slate-50 p-2 rounded-md mb-4">${vocabList}</ul>

                            <!-- Step 1 -->
                            <div class="mb-4">
                                <p class="font-semibold text-slate-700 mb-2">1. Quel est le type de la phrase ?</p>
                                <div class="flex flex-wrap gap-2 type-options">
                                    <button data-type="verbe" class="btn btn-secondary">Action (Verbe) üèÉ‚Äç‚ôÇÔ∏è</button>
                                    <button data-type="nom" class="btn btn-secondary">Objet (Nom) ‚úçÔ∏è</button>
                                    <button data-type="etre" class="btn btn-secondary">Identification (√ätre comme) üôã‚Äç‚ôÄÔ∏è</button>
                                </div>
                            </div>

                            <!-- Step 2 -->
                            <div>
                                <p class="font-semibold text-slate-700 mb-2">2. Compl√©tez la phrase en cor√©en.</p>
                                <div class="flex items-center gap-2">
                                    <p class="korean-font text-xl">${ex.koreanParts[0]}</p>
                                    <input type="text" class="korean-font text-xl p-2 border-2 border-slate-300 rounded-lg w-48 focus:border-blue-500 focus:ring-blue-500 transition" placeholder="R√©ponse">
                                    <p class="korean-font text-xl">${ex.koreanParts[1]}</p>
                                </div>
                                <button class="text-sm text-blue-600 hover:underline mt-2 hint-btn">Afficher l'indice (Ï¥àÏÑ±)</button>
                                <p class="text-sm text-amber-700 korean-font mt-1 hint-text hidden"></p>
                            </div>
                            
                            <div class="mt-4 border-t pt-4">
                               <button class="btn btn-primary w-full check-btn">V√©rifier</button>
                            </div>
                            <div class="feedback mt-4 hidden"></div>
                        </div>
                    </div>
                `;
                exerciseListContainer.appendChild(exerciseEl);
            });
            addEventListeners();
        }
        
        function addEventListeners() {
            document.querySelectorAll('.type-options button').forEach(button => {
                button.addEventListener('click', (e) => {
                    const currentButton = e.currentTarget;
                    const parent = currentButton.parentElement;
                    // Deselect other buttons in the same group
                    parent.querySelectorAll('button').forEach(btn => btn.classList.remove('selected'));
                    // Select the clicked button
                    currentButton.classList.add('selected');
                });
            });

            document.querySelectorAll('.hint-btn').forEach((button, index) => {
                button.addEventListener('click', () => {
                    const hintText = document.querySelector(`#ex-${index} .hint-text`);
                    hintText.textContent = exercises[index].chosungHint;
                    hintText.classList.remove('hidden');
                    button.disabled = true;
                });
            });

            document.querySelectorAll('.check-btn').forEach((button, index) => {
                button.addEventListener('click', () => handleCheck(index));
            });
            
            resetBtn.addEventListener('click', renderExercises);
        }

        function handleCheck(index) {
            const exerciseEl = document.getElementById(`ex-${index}`);
            const exerciseData = exercises[index];
            const feedbackEl = exerciseEl.querySelector('.feedback');
            
            // Check Step 1
            const selectedTypeBtn = exerciseEl.querySelector('.type-options .selected');
            const typeAnswer = selectedTypeBtn ? selectedTypeBtn.dataset.type : null;
            const isTypeCorrect = typeAnswer === exerciseData.typeAnswer;

            // Check Step 2
            const fillInput = exerciseEl.querySelector('input[type="text"]');
            const fillAnswer = fillInput.value.trim();
            const isFillCorrect = exerciseData.fillAnswer.split('/').map(s => s.trim()).includes(fillAnswer);

            let feedbackHTML = '';
            if (isTypeCorrect && isFillCorrect) {
                feedbackEl.className = 'feedback correct';
                feedbackHTML = `<p class="font-bold">ü•≥ Bravo, c'est parfait !</p>`;
            } else {
                feedbackEl.className = 'feedback incorrect';
                feedbackHTML = `<p class="font-bold">ü§î Presque ! Regardons ensemble :</p><ul class="list-disc list-inside mt-2">`;
                if (!isTypeCorrect) {
                    feedbackHTML += `<li><strong>Partie 1 (Type) :</strong> La bonne r√©ponse √©tait '<strong>${exerciseData.typeAnswer}</strong>'.</li>`;
                } else {
                    feedbackHTML += `<li><strong>Partie 1 (Type) :</strong> Bien jou√©, c'est correct !</li>`;
                }
                if (!isFillCorrect) {
                    feedbackHTML += `<li><strong>Partie 2 (Phrase) :</strong> Il fallait √©crire '<strong>${exerciseData.fillAnswer.replace('/', ' / ')}</strong>'.</li>`;
                } else {
                     feedbackHTML += `<li><strong>Partie 2 (Phrase) :</strong> Bien jou√©, c'est correct !</li>`;
                }
                feedbackHTML += `</ul>`;
            }
            
            const fullSentence = exerciseData.koreanParts[0] + ` <span class='font-bold text-blue-700'>${exerciseData.fillAnswer.split('/')[0]}</span>` + exerciseData.koreanParts[1];
            feedbackHTML += `<p class="mt-2 border-t border-slate-300 pt-2"><strong>Phrase compl√®te :</strong> <span class="korean-font">${fullSentence}</span></p>`;

            feedbackEl.innerHTML = feedbackHTML;
            feedbackEl.classList.remove('hidden');
        }

        // Initial load
        renderExercises();
    });
    </script>

</body>

</html>
