<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercice Coréen : 같아요, 처럼, 같이, 같은</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Inter:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }

        .korean-font {
            font-family: 'Gowun Dodum', sans-serif;
        }

        .card {
            background-color: white;
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }

        .btn {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 600;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        
        .btn-secondary {
            background-color: #f3f4f6;
            color: #374151;
            border-color: #e5e7eb;
        }

        .btn-secondary:hover:not(:disabled) {
            background-color: #e5e7eb;
            border-color: #d1d5db;
        }
        
        .btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }

        .btn.correct {
            border-color: #22c55e;
            background-color: #dcfce7;
            color: #15803d;
            font-weight: 700;
        }

        .btn.incorrect {
            border-color: #ef4444;
            background-color: #fee2e2;
            color: #b91c1c;
        }
        
        .exercise-item {
            padding: 1.5rem;
            border: 1px solid #e5e7eb;
            border-radius: 1rem;
            margin-bottom: 1rem;
            background-color: #ffffff;
            transition: background-color 0.3s;
        }
        
        .exercise-item.solved {
            background-color: #f0fdf4;
            border-color: #bbf7d0;
        }
    </style>
</head>

<body class="text-slate-800">

    <div class="container mx-auto p-4 md:p-8 max-w-4xl">
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-blue-600 mb-2">Comme en Coréen 🇰🇷</h1>
            <p class="text-lg text-slate-600">Apprends à utiliser 같아요, 처럼, 같이, et 같은 !</p>
        </header>

        <!-- Explanations Section -->
        <section id="explanations" class="mb-12">
            <h2 class="text-2xl font-bold mb-4 text-slate-700">La Règle d'Or 🔑</h2>
            <div class="card bg-yellow-50 border border-yellow-200">
                <p class="text-lg text-yellow-800">Pour savoir quel mot utiliser, pose-toi cette question : est-ce que "comme" est lié à un <strong class="font-semibold">verbe (une action)</strong> ou à un <strong class="font-semibold">nom (un objet)</strong> ?</p>
            </div>
        </section>

        <!-- Exercises Section -->
        <section id="exercises">
            <div class="flex justify-between items-center mb-6">
                 <h2 class="text-3xl font-bold text-slate-700">Exercices (20)</h2>
                 <button id="reset-btn" class="btn btn-secondary">Recommencer</button>
            </div>
            
            <div id="exercise-list">
                <!-- Les exercices seront injectés ici par JS -->
            </div>
        </section>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const exercises = [
                // --- 쉬운 레벨 (같아요 / Être comme) ---
                { type: 'identification', french: "Ce bébé est comme un ange.", answer: "etre", explanation: "Simple comparaison d'identité ('être comme')." },
                { type: 'identification', french: "Le temps est comme de l'or.", answer: "etre", explanation: "Simple comparaison d'identité : Le temps EST comme de l'or." },
                { type: 'fill-in', sentence: ["이건 꿈", "."], correct: ["같아요"], explanation: "Simple comparaison : 'Ceci est comme un rêve'." },
                { type: 'fill-in', sentence: ["오늘은 어제", "."], correct: ["같아요"], explanation: "Simple comparaison : 'Aujourd'hui est comme hier'." },

                // --- 중간 레벨 (같은 / Nom) ---
                { type: 'identification', french: "C'est un homme comme un lion.", answer: "nom", explanation: "Ici, 'comme' décrit le nom 'homme'." },
                { type: 'identification', french: "Je cherche une maison comme un château.", answer: "nom", explanation: "Ici, 'comme' décrit le nom 'maison'." },
                { type: 'identification', french: "C'est un cadeau comme un trésor.", answer: "nom", explanation: "Ici, 'comme' décrit le nom 'cadeau'." },
                { type: 'identification', french: "J'ai un ami comme un frère.", answer: "nom", explanation: "Ici, 'comme' décrit le nom 'ami'." },
                { type: 'fill-in', sentence: ["천사", " 아기예요."], correct: ["같은"], explanation: "On décrit le nom 'bébé' (아기)." },
                { type: 'fill-in', sentence: ["바다", " 넓은 마음"], correct: ["같은"], explanation: "On décrit le nom 'coeur' (마음)." },
                { type: 'fill-in', sentence: ["그녀는 여우", " 여자예요."], correct: ["같은"], explanation: "On décrit le nom 'femme' (여자)." },

                // --- 어려운 레벨 (처럼, 같이 / Verbe) ---
                { type: 'identification', french: "Il court comme le vent.", answer: "verbe", explanation: "Ici, 'comme' décrit l'action de courir (verbe)." },
                { type: 'identification', french: "Elle chante comme une sirène.", answer: "verbe", explanation: "Ici, 'comme' décrit la manière de chanter (verbe)." },
                { type: 'identification', french: "Il danse comme un professionnel.", answer: "verbe", explanation: "Ici, 'comme' décrit la manière de danser (verbe)." },
                { type: 'identification', french: "Elle parle comme un poète.", answer: "verbe", explanation: "Ici, 'comme' décrit la manière de parler (verbe)." },
                { type: 'fill-in', sentence: ["그는 바람", " 달려요."], correct: ["처럼", "같이"], explanation: "On décrit l'action de courir (달려요)." },
                { type: 'fill-in', sentence: ["우리 아빠는 곰", " 자요."], correct: ["처럼", "같이"], explanation: "On décrit l'action de dormir (자요)." },
                { type: 'fill-in', sentence: ["가수", " 노래를 잘해요."], correct: ["처럼", "같이"], explanation: "On décrit l'action de bien chanter (노래를 잘해요)." },
                { type: 'fill-in', sentence: ["아기가 어른", " 말해요."], correct: ["처럼", "같이"], explanation: "On décrit l'action de parler (말해요)." },
                { type: 'fill-in', sentence: ["그는 로봇", " 걸어요."], correct: ["처럼", "같이"], explanation: "On décrit l'action de marcher (걸어요)." }
            ];

            const exerciseListContainer = document.getElementById('exercise-list');
            const resetBtn = document.getElementById('reset-btn');

            function renderExercises() {
                exerciseListContainer.innerHTML = ''; // Clear previous list
                exercises.forEach((ex, index) => {
                    const exerciseEl = document.createElement('div');
                    exerciseEl.className = 'exercise-item';
                    exerciseEl.id = `ex-${index}`;

                    let content = `
                        <div class="flex items-start">
                            <span class="text-xl font-bold text-blue-500 mr-4">${index + 1}.</span>
                            <div class="w-full">
                    `;

                    if (ex.type === 'identification') {
                        content += `
                            <p class="text-slate-500 mb-2">Quel est le type de la phrase ?</p>
                            <p class="font-semibold text-lg text-slate-800 mb-4">"${ex.french}"</p>
                            <div class="flex flex-wrap gap-2">
                                <button data-answer="verbe" class="btn btn-secondary id-option">Action (Verbe) 🏃‍♂️</button>
                                <button data-answer="nom" class="btn btn-secondary id-option">Objet (Nom) ✍️</button>
                                <button data-answer="etre" class="btn btn-secondary id-option">Identification (Être comme) 🙋‍♀️</button>
                            </div>
                        `;
                    } else { // fill-in
                         const options = ["같아요", "처럼", "같이", "같은"];
                        content += `
                            <p class="text-slate-500 mb-2">Complète la phrase :</p>
                            <p class="korean-font text-2xl font-semibold text-slate-800 mb-4">
                                ${ex.sentence[0]}
                                <span class="inline-block bg-slate-200 rounded-md w-24 h-8 mx-1 align-middle"></span>
                                ${ex.sentence[1]}
                            </p>
                             <div class="flex flex-wrap gap-2">
                                ${options.map(opt => `<button data-answer="${opt}" class="btn btn-secondary fill-option korean-font text-lg">${opt}</button>`).join('')}
                            </div>
                        `;
                    }
                    
                    content += `
                                <p data-explanation class="text-green-700 mt-3 font-semibold hidden"></p>
                            </div>
                        </div>
                    `;
                    exerciseEl.innerHTML = content;
                    exerciseListContainer.appendChild(exerciseEl);
                });
                
                addEventListeners();
            }
            
            function handleAnswer(e) {
                const button = e.target;
                const exerciseEl = button.closest('.exercise-item');
                const index = parseInt(exerciseEl.id.split('-')[1]);
                const exerciseData = exercises[index];
                const selectedAnswer = button.dataset.answer;

                let isCorrect = false;
                if (exerciseData.type === 'identification') {
                    isCorrect = selectedAnswer === exerciseData.answer;
                } else { // fill-in
                    isCorrect = exerciseData.correct.includes(selectedAnswer);
                }

                // Disable all buttons in this group
                const buttons = exerciseEl.querySelectorAll('button');
                buttons.forEach(btn => btn.disabled = true);

                if (isCorrect) {
                    button.classList.add('correct');
                    exerciseEl.classList.add('solved');
                    const explanationEl = exerciseEl.querySelector('[data-explanation]');
                    explanationEl.textContent = 'Bravo ! ' + exerciseData.explanation;
                    explanationEl.classList.remove('hidden');
                } else {
                    button.classList.add('incorrect');
                    // Highlight the correct answer(s)
                    buttons.forEach(btn => {
                        if ( (exerciseData.type === 'identification' && btn.dataset.answer === exerciseData.answer) ||
                             (exerciseData.type === 'fill-in' && exerciseData.correct.includes(btn.dataset.answer)) ) {
                            btn.classList.add('correct');
                        }
                    });
                     const explanationEl = exerciseEl.querySelector('[data-explanation]');
                    explanationEl.textContent = 'Presque ! ' + exerciseData.explanation;
                    explanationEl.classList.remove('hidden');
                    explanationEl.classList.replace('text-green-700', 'text-red-700');
                }
            }
            
            function addEventListeners() {
                 const allButtons = document.querySelectorAll('.id-option, .fill-option');
                 allButtons.forEach(button => {
                     button.addEventListener('click', handleAnswer);
                 });
            }

            resetBtn.addEventListener('click', renderExercises);
            
            // Initial load
            renderExercises();
        });
    </script>

</body>

</html>
