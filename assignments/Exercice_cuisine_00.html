<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Exercices d'écoute en Coréen (20 Questions)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Roboto', 'Noto Sans KR', sans-serif; background-color: #f0f2f5; }
    .audio-btn { transition: all 0.3s ease; }
    .audio-btn:hover { transform: scale(1.1); background-color: #4a5568; }
    .audio-btn.loading { cursor: not-allowed; background-color: #a0aec0; animation: pulse 1.5s infinite; }
    @keyframes pulse { 0%,100%{opacity:1;} 50%{opacity:.7;} }
    .answer-box { transition: max-height .5s ease-in-out, opacity .5s ease-in-out; max-height:0; opacity:0; overflow:hidden; }
    .answer-box.show { max-height: 200px; opacity:1; }
    .particle-btn { transition: all .2s ease; }
  </style>
</head>
<body class="bg-gray-100 text-gray-800 p-4 md:p-8">

  <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-lg p-6 md:p-8"
       id="exerciseCard"
       data-teacher-email="prof@exemple.com">
    <header class="text-center mb-6 border-b pb-4">
      <h1 class="text-3xl md:text-4xl font-bold text-indigo-600">Exercices d'écoute en Coréen (듣기 연습)</h1>
      <p class="text-gray-600 mt-2">Écoutez attentivement et résolvez les 20 exercices pour maîtriser la grammaire et le vocabulaire.</p>
    </header>

    <!-- Student Info -->
    <section class="mb-8">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-xl">
        <div>
          <label for="student_name" class="block text-sm text-gray-600 mb-1">Nom de l'élève (선택)</label>
          <input id="student_name" type="text" placeholder="Votre nom"
                 class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-indigo-500">
        </div>
        <div>
          <label for="student_email" class="block text-sm text-gray-600 mb-1">Email de l'élève (선택)</label>
          <input id="student_email" type="email" placeholder="you@example.com"
                 class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-indigo-500">
        </div>
      </div>
    </section>

    <!-- Exercice 1: Complétez la phrase -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-4 text-gray-700 border-l-4 border-indigo-500 pl-4">
        Exercice 1 : Complétez la phrase (빈칸 채우기)
      </h2>
      <div class="space-y-6">
        <!-- Q1 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">1. Écoutez et complétez la question.</p>
          <div class="flex items-center gap-4">
            <button class="audio-btn bg-gray-700 text-white w-12 h-12 rounded-full flex items-center justify-center text-2xl"
                    data-text="프랑스 사람들은 뭐를 자주 먹어요?">🔊</button>
            <p class="text-xl font-medium">
              프랑스 사람들은
              <input type="text" id="q1_input"
                     class="border-b-2 border-gray-300 focus:border-indigo-500 outline-none w-24 text-center bg-transparent">
              자주 먹어요?
            </p>
          </div>
          <div class="mt-4 text-right">
            <button onclick="toggleAnswer('q1_answer')" class="bg-indigo-500 text-white py-1 px-4 rounded-md hover:bg-indigo-600 transition">Réponse</button>
          </div>
          <div id="q1_answer" class="answer-box mt-3 p-3 bg-indigo-100 text-indigo-800 rounded-lg">
            <strong>Réponse :</strong> 뭐를 (ou 뭘)<br>
            <strong>Phrase :</strong> 프랑스 사람들은 뭐를[뭘] 자주 먹어요?
          </div>
        </div>
        <!-- Q2 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">2. Écoutez et complétez la phrase négative.</p>
          <div class="flex items-center gap-4">
            <button class="audio-btn bg-gray-700 text-white w-12 h-12 rounded-full flex items-center justify-center text-2xl"
                    data-text="저는 친구를 안 만났어요.">🔊</button>
            <p class="text-xl font-medium">
              저는 친구를
              <input type="text" id="q2_input"
                     class="border-b-2 border-gray-300 focus:border-indigo-500 outline-none w-32 text-center bg-transparent">.
            </p>
          </div>
          <div class="mt-4 text-right">
            <button onclick="toggleAnswer('q2_answer')" class="bg-indigo-500 text-white py-1 px-4 rounded-md hover:bg-indigo-600 transition">Réponse</button>
          </div>
          <div id="q2_answer" class="answer-box mt-3 p-3 bg-indigo-100 text-indigo-800 rounded-lg">
            <strong>Réponse :</strong> 안 만났어요<br>
            <strong>Phrase :</strong> 저는 친구를 안 만났어요.
          </div>
        </div>
        <!-- Q3 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">3. Écoutez et complétez avec le nom.</p>
          <div class="flex items-center gap-4">
            <button class="audio-btn bg-gray-700 text-white w-12 h-12 rounded-full flex items-center justify-center text-2xl"
                    data-text="저는 쌀을 자주 먹어요.">🔊</button>
            <p class="text-xl font-medium">
              저는
              <input type="text" id="q3_input"
                     class="border-b-2 border-gray-300 focus:border-indigo-500 outline-none w-16 text-center bg-transparent">을 자주 먹어요.
            </p>
          </div>
          <div class="mt-4 text-right">
            <button onclick="toggleAnswer('q3_answer')" class="bg-indigo-500 text-white py-1 px-4 rounded-md hover:bg-indigo-600 transition">Réponse</button>
          </div>
          <div id="q3_answer" class="answer-box mt-3 p-3 bg-indigo-100 text-indigo-800 rounded-lg">
            <strong>Réponse :</strong> 쌀<br>
            <strong>Phrase :</strong> 저는 쌀을 자주 먹어요. (Je mange souvent du riz.)
          </div>
        </div>
        <!-- Q4 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">4. Écoutez et complétez avec l'adverbe.</p>
          <div class="flex items-center gap-4">
            <button class="audio-btn bg-gray-700 text-white w-12 h-12 rounded-full flex items-center justify-center text-2xl"
                    data-text="한국 사람들은 김치찌개를 자주 먹어요.">🔊</button>
            <p class="text-xl font-medium">
              한국 사람들은 김치찌개를
              <input type="text" id="q4_input"
                     class="border-b-2 border-gray-300 focus:border-indigo-500 outline-none w-20 text-center bg-transparent"> 먹어요.
            </p>
          </div>
          <div class="mt-4 text-right">
            <button onclick="toggleAnswer('q4_answer')" class="bg-indigo-500 text-white py-1 px-4 rounded-md hover:bg-indigo-600 transition">Réponse</button>
          </div>
          <div id="q4_answer" class="answer-box mt-3 p-3 bg-indigo-100 text-indigo-800 rounded-lg">
            <strong>Réponse :</strong> 자주<br>
            <strong>Phrase :</strong> 한국 사람들은 김치찌개를 자주 먹어요. (Les Coréens mangent souvent du Kimchi-jjigae.)
          </div>
        </div>
        <!-- Q5 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">5. Écoutez et complétez avec le verbe.</p>
          <div class="flex items-center gap-4">
            <button class="audio-btn bg-gray-700 text-white w-12 h-12 rounded-full flex items-center justify-center text-2xl"
                    data-text="저는 식당에 들어가요.">🔊</button>
            <p class="text-xl font-medium">
              저는 식당에
              <input type="text" id="q5_input"
                     class="border-b-2 border-gray-300 focus:border-indigo-500 outline-none w-28 text-center bg-transparent">.
            </p>
          </div>
          <div class="mt-4 text-right">
            <button onclick="toggleAnswer('q5_answer')" class="bg-indigo-500 text-white py-1 px-4 rounded-md hover:bg-indigo-600 transition">Réponse</button>
          </div>
          <div id="q5_answer" class="answer-box mt-3 p-3 bg-indigo-100 text-indigo-800 rounded-lg">
            <strong>Réponse :</strong> 들어가요<br>
            <strong>Phrase :</strong> 저는 식당에 들어가요. (J'entre dans le restaurant.)
          </div>
        </div>
      </div>
    </section>

    <!-- Exercice 2: Choisissez la bonne particule -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-4 text-gray-700 border-l-4 border-cyan-500 pl-4">
        Exercice 2 : Choisissez la bonne particule (조사 선택하기)
      </h2>
      <div class="space-y-6">
        <!-- Q6 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">6. Écoutez et choisissez la particule pour "et".</p>
          <div class="flex items-center gap-4">
            <button class="audio-btn bg-gray-700 text-white w-12 h-12 rounded-full flex items-center justify-center text-2xl"
                    data-text="김치와 돼지고기가 들어가요.">🔊</button>
            <p class="text-xl font-medium">김치<span id="q6_blank" class="font-bold text-cyan-600">__</span> 돼지고기가 들어가요.</p>
          </div>
          <div class="flex gap-4 mt-4" id="q6_options">
            <button onclick="checkParticle('q6','와',true)" class="particle-btn flex-1 bg-gray-200 hover:bg-cyan-200 text-gray-800 font-bold py-2 px-4 rounded">와</button>
            <button onclick="checkParticle('q6','과',false)" class="particle-btn flex-1 bg-gray-200 hover:bg-cyan-200 text-gray-800 font-bold py-2 px-4 rounded">과</button>
          </div>
          <div id="q6_answer" class="answer-box mt-3 p-3 bg-cyan-100 text-cyan-800 rounded-lg">
            <strong>Réponse :</strong> 와.<br><strong>Explication :</strong> Après une voyelle (김치), on utilise '와'.
          </div>
        </div>
        <!-- Q7 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">7. Écoutez et choisissez la particule de sujet.</p>
          <div class="flex items-center gap-4">
            <button class="audio-btn bg-gray-700 text-white w-12 h-12 rounded-full flex items-center justify-center text-2xl"
                    data-text="제 친구가 영화를 봐요.">🔊</button>
            <p class="text-xl font-medium">제 친구<span id="q7_blank" class="font-bold text-cyan-600">__</span> 영화를 봐요.</p>
          </div>
          <div class="flex gap-4 mt-4" id="q7_options">
            <button onclick="checkParticle('q7','를',false)" class="particle-btn flex-1 bg-gray-200 hover:bg-cyan-200 text-gray-800 font-bold py-2 px-4 rounded">를</button>
            <button onclick="checkParticle('q7','가',true)" class="particle-btn flex-1 bg-gray-200 hover:bg-cyan-200 text-gray-800 font-bold py-2 px-4 rounded">가</button>
          </div>
          <div id="q7_answer" class="answer-box mt-3 p-3 bg-cyan-100 text-cyan-800 rounded-lg">
            <strong>Réponse :</strong> 가.<br><strong>Explication :</strong> '친구' (voyelle) est le sujet, on utilise '가'.
          </div>
        </div>
        <!-- Q8 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">8. Écoutez et choisissez la particule de thème.</p>
          <div class="flex items-center gap-4">
            <button class="audio-btn bg-gray-700 text-white w-12 h-12 rounded-full flex items-center justify-center text-2xl"
                    data-text="한국 사람들은 김치찌개를 자주 먹어요.">🔊</button>
            <p class="text-xl font-medium">한국 사람<span id="q8_blank" class="font-bold text-cyan-600">__</span> 김치찌개를 자주 먹어요.</p>
          </div>
          <div class="flex gap-4 mt-4" id="q8_options">
            <button onclick="checkParticle('q8','은',true)" class="particle-btn flex-1 bg-gray-200 hover:bg-cyan-200 text-gray-800 font-bold py-2 px-4 rounded">은</button>
            <button onclick="checkParticle('q8','는',false)" class="particle-btn flex-1 bg-gray-200 hover:bg-cyan-200 text-gray-800 font-bold py-2 px-4 rounded">는</button>
          </div>
          <div id="q8_answer" class="answer-box mt-3 p-3 bg-cyan-100 text-cyan-800 rounded-lg">
            <strong>Réponse :</strong> 은.<br><strong>Explication :</strong> Après une consonne (사람), on utilise '은'.
          </div>
        </div>
        <!-- Q9 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">9. Écoutez et choisissez la particule d'objet (COD).</p>
          <div class="flex items-center gap-4">
            <button class="audio-btn bg-gray-700 text-white w-12 h-12 rounded-full flex items-center justify-center text-2xl"
                    data-text="저는 밥을 먹어요.">🔊</button>
            <p class="text-xl font-medium">저는 밥<span id="q9_blank" class="font-bold text-cyan-600">__</span> 먹어요.</p>
          </div>
          <div class="flex gap-4 mt-4" id="q9_options">
            <button onclick="checkParticle('q9','을',true)" class="particle-btn flex-1 bg-gray-200 hover:bg-cyan-200 text-gray-800 font-bold py-2 px-4 rounded">을</button>
            <button onclick="checkParticle('q9','를',false)" class="particle-btn flex-1 bg-gray-200 hover:bg-cyan-200 text-gray-800 font-bold py-2 px-4 rounded">를</button>
          </div>
          <div id="q9_answer" class="answer-box mt-3 p-3 bg-cyan-100 text-cyan-800 rounded-lg">
            <strong>Réponse :</strong> 을.<br><strong>Explication :</strong> Après une consonne (밥), on utilise '을'.
          </div>
        </div>
        <!-- Q10 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">10. Écoutez et choisissez la particule de lieu/destination.</p>
          <div class="flex items-center gap-4">
            <button class="audio-btn bg-gray-700 text-white w-12 h-12 rounded-full flex items-center justify-center text-2xl"
                    data-text="저는 집에 들어가요.">🔊</button>
            <p class="text-xl font-medium">저는 집<span id="q10_blank" class="font-bold text-cyan-600">__</span> 들어가요.</p>
          </div>
          <div class="flex gap-4 mt-4" id="q10_options">
            <button onclick="checkParticle('q10','에',true)" class="particle-btn flex-1 bg-gray-200 hover:bg-cyan-200 text-gray-800 font-bold py-2 px-4 rounded">에</button>
            <button onclick="checkParticle('q10','에서',false)" class="particle-btn flex-1 bg-gray-200 hover:bg-cyan-200 text-gray-800 font-bold py-2 px-4 rounded">에서</button>
          </div>
          <div id="q10_answer" class="answer-box mt-3 p-3 bg-cyan-100 text-cyan-800 rounded-lg">
            <strong>Réponse :</strong> 에.<br><strong>Explication :</strong> Destination (verbe de mouvement) → '에'.
          </div>
        </div>
      </div>
    </section>

    <!-- Exercice 3: Vrai ou Faux -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-4 text-gray-700 border-l-4 border-green-500 pl-4">
        Exercice 3 : Vrai ou Faux (O/X 퀴즈)
      </h2>
      <div class="space-y-6">
        <!-- Q11 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">11. Écoutez la question. L'affirmation est-elle la bonne traduction ?</p>
          <div class="flex items-center gap-4 mb-4">
            <button class="audio-btn bg-gray-700 text-white w-12 h-12 rounded-full flex items-center justify-center text-2xl"
                    data-text="잘 보여요?">🔊</button>
            <p class="italic text-gray-600">Affirmation : "Tu me vois bien ?"</p>
          </div>
          <div class="flex gap-4" id="q11_options">
            <button onclick="checkTrueFalse('q11', true)"  class="flex-1 bg-blue-200 hover:bg-blue-300 text-blue-800 font-bold py-2 px-4 rounded">Vrai (O)</button>
            <button onclick="checkTrueFalse('q11', false)" class="flex-1 bg-red-200 hover:bg-red-300 text-red-800 font-bold py-2 px-4 rounded">Faux (X)</button>
          </div>
          <div id="q11_answer" class="answer-box mt-3 p-3 bg-green-100 text-green-800 rounded-lg">
            <strong>Réponse :</strong> Vrai (O).
          </div>
        </div>
        <!-- Q12 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">12. Écoutez la phrase. L'affirmation est-elle correcte ?</p>
          <div class="flex items-center gap-4 mb-4">
            <button class="audio-btn bg-gray-700 text-white w-12 h-12 rounded-full flex items-center justify-center text-2xl"
                    data-text="저는 쌀을 자주 먹어요.">🔊</button>
            <p class="italic text-gray-600">Affirmation : "Je mange souvent des pâtes."</p>
          </div>
          <div class="flex gap-4" id="q12_options">
            <button onclick="checkTrueFalse('q12', true)"  class="flex-1 bg-blue-200 hover:bg-blue-300 text-blue-800 font-bold py-2 px-4 rounded">Vrai (O)</button>
            <button onclick="checkTrueFalse('q12', false)" class="flex-1 bg-red-200 hover:bg-red-300 text-red-800 font-bold py-2 px-4 rounded">Faux (X)</button>
          </div>
          <div id="q12_answer" class="answer-box mt-3 p-3 bg-red-100 text-red-800 rounded-lg">
            <strong>Réponse :</strong> Faux (X). 쌀 = riz.
          </div>
        </div>
        <!-- Q13 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">13. Écoutez la phrase. L'affirmation est-elle correcte ?</p>
          <div class="flex items-center gap-4 mb-4">
            <button class="audio-btn bg-gray-700 text-white w-12 h-12 rounded-full flex items-center justify-center text-2xl"
                    data-text="제 친구가 친구들을 안 만났어요.">🔊</button>
            <p class="italic text-gray-600">Affirmation : "Mon ami a rencontré ses amis."</p>
          </div>
          <div class="flex gap-4" id="q13_options">
            <button onclick="checkTrueFalse('q13', true)"  class="flex-1 bg-blue-200 hover:bg-blue-300 text-blue-800 font-bold py-2 px-4 rounded">Vrai (O)</button>
            <button onclick="checkTrueFalse('q13', false)" class="flex-1 bg-red-200 hover:bg-red-300 text-red-800 font-bold py-2 px-4 rounded">Faux (X)</button>
          </div>
          <div id="q13_answer" class="answer-box mt-3 p-3 bg-red-100 text-red-800 rounded-lg">
            <strong>Réponse :</strong> Faux (X). 안 만났어요 = ne pas avoir rencontré.
          </div>
        </div>
        <!-- Q14 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">14. Écoutez la phrase. L'affirmation est-elle correcte ?</p>
          <div class="flex items-center gap-4 mb-4">
            <button class="audio-btn bg-gray-700 text-white w-12 h-12 rounded-full flex items-center justify-center text-2xl"
                    data-text="프랑스 사람들은 바게트를 가끔 먹어요.">🔊</button>
            <p class="italic text-gray-600">Affirmation : "Les Français mangent parfois de la baguette."</p>
          </div>
          <div class="flex gap-4" id="q14_options">
            <button onclick="checkTrueFalse('q14', true)"  class="flex-1 bg-blue-200 hover:bg-blue-300 text-blue-800 font-bold py-2 px-4 rounded">Vrai (O)</button>
            <button onclick="checkTrueFalse('q14', false)" class="flex-1 bg-red-200 hover:bg-red-300 text-red-800 font-bold py-2 px-4 rounded">Faux (X)</button>
          </div>
          <div id="q14_answer" class="answer-box mt-3 p-3 bg-green-100 text-green-800 rounded-lg">
            <strong>Réponse :</strong> Vrai (O). 가끔 = parfois.
          </div>
        </div>
        <!-- Q15 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">15. Écoutez la phrase. L'affirmation est-elle correcte ?</p>
          <div class="flex items-center gap-4 mb-4">
            <button class="audio-btn bg-gray-700 text-white w-12 h-12 rounded-full flex items-center justify-center text-2xl"
                    data-text="저는 집에 들어가요.">🔊</button>
            <p class="italic text-gray-600">Affirmation : "J'entre dans un restaurant."</p>
          </div>
          <div class="flex gap-4" id="q15_options">
            <button onclick="checkTrueFalse('q15', true)"  class="flex-1 bg-blue-200 hover:bg-blue-300 text-blue-800 font-bold py-2 px-4 rounded">Vrai (O)</button>
            <button onclick="checkTrueFalse('q15', false)" class="flex-1 bg-red-200 hover:bg-red-300 text-red-800 font-bold py-2 px-4 rounded">Faux (X)</button>
          </div>
          <div id="q15_answer" class="answer-box mt-3 p-3 bg-red-100 text-red-800 rounded-lg">
            <strong>Réponse :</strong> Faux (X). 집 = maison, 식당 = restaurant.
          </div>
        </div>
      </div>
    </section>

    <!-- Exercice 4: Dictée et Combinaison -->
    <section>
      <h2 class="text-2xl font-bold mb-4 text-gray-700 border-l-4 border-purple-500 pl-4">
        Exercice 4 : Dictée et Combinaison (받아쓰기 및 문장 연결)
      </h2>
      <div class="space-y-6">
        <!-- Q16 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">16. <strong>Dictée :</strong> Écoutez et écrivez la phrase complète.</p>
          <div class="flex items-center gap-4 mb-3">
            <button class="audio-btn bg-gray-700 text-white w-12 h-12 rounded-full flex items-center justify-center text-2xl"
                    data-text="저는 친구를 안 만나고 영화를 안 봤어요.">🔊</button>
            <input type="text" id="q16_input"
                   class="w-full p-2 border-2 border-gray-300 rounded-md focus:border-purple-500 outline-none"
                   placeholder="Écrivez ce que vous entendez...">
          </div>
          <div class="mt-4 text-right">
            <button onclick="toggleAnswer('q16_answer')" class="bg-purple-500 text-white py-1 px-4 rounded-md hover:bg-purple-600 transition">Réponse</button>
          </div>
          <div id="q16_answer" class="answer-box mt-3 p-3 bg-purple-100 text-purple-800 rounded-lg">
            <strong>Phrase :</strong> 저는 친구를 안 만나고 영화를 안 봤어요.<br>
            <strong>Traduction :</strong> Je n'ai pas rencontré mes amis et je n'ai pas regardé de film.
          </div>
        </div>
        <!-- Q17 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">17. <strong>Dictée :</strong> Écoutez et écrivez la phrase complète.</p>
          <div class="flex items-center gap-4 mb-3">
            <button class="audio-btn bg-gray-700 text-white w-12 h-12 rounded-full flex items-center justify-center text-2xl"
                    data-text="김치하고 밥을 같이 먹어요.">🔊</button>
            <input type="text" id="q17_input"
                   class="w-full p-2 border-2 border-gray-300 rounded-md focus:border-purple-500 outline-none"
                   placeholder="Écrivez ce que vous entendez...">
          </div>
          <div class="mt-4 text-right">
            <button onclick="toggleAnswer('q17_answer')" class="bg-purple-500 text-white py-1 px-4 rounded-md hover:bg-purple-600 transition">Réponse</button>
          </div>
          <div id="q17_answer" class="answer-box mt-3 p-3 bg-purple-100 text-purple-800 rounded-lg">
            <strong>Phrase :</strong> 김치하고 밥을 같이 먹어요.<br>
            <strong>Traduction :</strong> Je mange du kimchi et du riz ensemble.
          </div>
        </div>
        <!-- Q18 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">18. <strong>Combinaison (-고) :</strong> Combinez les deux phrases.</p>
          <div class="mb-4">
            <p class="text-xl font-medium">Phrase 1 : 돼지고기를 냄비에 넣어요.<br>Phrase 2 : 볶아요.</p>
          </div>
          <input type="text" id="q18_input"
                 class="w-full p-2 border-2 border-gray-300 rounded-md focus:border-purple-500 outline-none"
                 placeholder="Combinez les deux phrases ici...">
          <div class="mt-4 text-right">
            <button onclick="toggleAnswer('q18_answer')" class="bg-purple-500 text-white py-1 px-4 rounded-md hover:bg-purple-600 transition">Réponse</button>
          </div>
          <div id="q18_answer" class="answer-box mt-3 p-3 bg-purple-100 text-purple-800 rounded-lg">
            <strong>Réponse :</strong> 돼지고기를 냄비에 넣고 볶아요.<br>
            <strong>Explication :</strong> Radical (넣) + 고 + verbe suivant.
          </div>
        </div>
        <!-- Q19 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">19. <strong>Combinaison (-고) :</strong> Combinez les deux phrases.</p>
          <div class="mb-4">
            <p class="text-xl font-medium">Phrase 1 : 저는 친구를 만나요.<br>Phrase 2 : 영화를 봐요.</p>
          </div>
          <input type="text" id="q19_input"
                 class="w-full p-2 border-2 border-gray-300 rounded-md focus:border-purple-500 outline-none"
                 placeholder="Combinez les deux phrases ici...">
          <div class="mt-4 text-right">
            <button onclick="toggleAnswer('q19_answer')" class="bg-purple-500 text-white py-1 px-4 rounded-md hover:bg-purple-600 transition">Réponse</button>
          </div>
          <div id="q19_answer" class="answer-box mt-3 p-3 bg-purple-100 text-purple-800 rounded-lg">
            <strong>Réponse :</strong> 저는 친구를 만나고 영화를 봐요.<br>
            <strong>Traduction :</strong> Je rencontre mes amis et je regarde un film.
          </div>
        </div>
        <!-- Q20 -->
        <div class="bg-gray-50 p-5 rounded-lg shadow-sm">
          <p class="mb-3 text-lg">20. <strong>Combinaison (-고) :</strong> Combinez les deux phrases.</p>
          <div class="mb-4">
            <p class="text-xl font-medium">Phrase 1 : 식당에 들어가요.<br>Phrase 2 : 같이 먹어요.</p>
          </div>
          <input type="text" id="q20_input"
                 class="w-full p-2 border-2 border-gray-300 rounded-md focus:border-purple-500 outline-none"
                 placeholder="Combinez les deux phrases ici...">
          <div class="mt-4 text-right">
            <button onclick="toggleAnswer('q20_answer')" class="bg-purple-500 text-white py-1 px-4 rounded-md hover:bg-purple-600 transition">Réponse</button>
          </div>
          <div id="q20_answer" class="answer-box mt-3 p-3 bg-purple-100 text-purple-800 rounded-lg">
            <strong>Réponse :</strong> 식당에 들어가고 같이 먹어요.<br>
            <strong>Traduction :</strong> On entre dans le restaurant et on mange ensemble.
          </div>
        </div>
      </div>
    </section>

    <!-- FINISH + RETRY -->
    <div class="mt-8 flex gap-3 justify-end">
      <button id="finishBtn"
              class="bg-emerald-600 hover:bg-emerald-700 text-white font-semibold px-5 py-2 rounded-lg transition">
        끝내기 (채점 & 제출)
      </button>
      <button id="retryBtn"
              class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold px-5 py-2 rounded-lg transition hidden">
        다시하기
      </button>
    </div>
  </div>

  <!-- RESULT MODAL -->
  <div id="resultModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center p-4 z-50">
    <div class="bg-white w-full max-w-2xl rounded-2xl shadow-xl p-6">
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-2xl font-bold text-gray-800">채점 결과</h3>
        <button id="closeResult" class="text-gray-500 hover:text-gray-700 text-xl leading-none">&times;</button>
      </div>

      <p id="scoreLine" class="text-lg font-semibold text-gray-700 mb-4">
        총점: <span class="text-indigo-600" id="scoreValue">0</span> / 20
      </p>

      <div class="max-h-[50vh] overflow-auto border rounded-lg">
        <table class="w-full text-sm">
          <thead class="bg-gray-50">
            <tr>
              <th class="p-2 text-left">#</th>
              <th class="p-2 text-left">내 답</th>
              <th class="p-2 text-left">정답</th>
              <th class="p-2 text-left">채점</th>
            </tr>
          </thead>
          <tbody id="resultTable"></tbody>
        </table>
      </div>

      <div id="sendStatus" class="mt-4 text-sm text-gray-600"></div>

      <div class="mt-6 flex justify-end gap-2">
        <button id="sendAgainBtn"
                class="hidden bg-amber-500 hover:bg-amber-600 text-white font-semibold px-4 py-2 rounded-lg transition">
          다시 전송
        </button>
        <button id="okBtn"
                class="bg-emerald-600 hover:bg-emerald-700 text-white font-semibold px-4 py-2 rounded-lg transition">
          확인
        </button>
      </div>
    </div>
  </div>

  <script>
    /***** -------- 오디오 재생 유틸(포맷 분기 + 에러 안전) -------- *****/
    let currentAudio = null;

    function normalizeBase64(b64) {
      b64 = b64.replace(/-/g, '+').replace(/_/g, '/');
      const pad = b64.length % 4;
      if (pad === 2) b64 += '==';
      else if (pad === 3) b64 += '=';
      return b64;
    }
    function base64ToArrayBuffer(base64) {
      const normalized = normalizeBase64(base64);
      const binaryString = window.atob(normalized);
      const len = binaryString.length;
      const bytes = new Uint8Array(len);
      for (let i = 0; i < len; i++) bytes[i] = binaryString.charCodeAt(i);
      return bytes.buffer;
    }
    function pcmToWav(pcmData, sampleRate) {
      const pcm16 = new Int16Array(pcmData);
      const header = new ArrayBuffer(44);
      const view = new DataView(header);
      const writeString = (v,o,s)=>{ for(let i=0;i<s.length;i++) v.setUint8(o+i, s.charCodeAt(i)); };
      writeString(view,0,'RIFF'); view.setUint32(4,36+pcm16.byteLength,true);
      writeString(view,8,'WAVE'); writeString(view,12,'fmt ');
      view.setUint32(16,16,true); view.setUint16(20,1,true);
      const numChannels=1; view.setUint16(22,numChannels,true);
      view.setUint32(24,sampleRate,true);
      view.setUint32(28,sampleRate*numChannels*2,true);
      view.setUint16(32,numChannels*2,true);
      view.setUint16(34,16,true);
      writeString(view,36,'data'); view.setUint32(40, pcm16.byteLength, true);
      return new Blob([header, pcm16], { type:'audio/wav' });
    }
    async function generateAndPlayAudio(text, buttonElement) {
      if (buttonElement.classList.contains('loading')) return;
      buttonElement.classList.add('loading');
      const originalContent = buttonElement.innerHTML;
      buttonElement.textContent = '...';
      if (currentAudio) { currentAudio.pause(); currentAudio = null; }

      try {
        const response = await fetch('/.netlify/functions/generate-audio', {
          method: 'POST', headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ text })
        });
        let payloadText = await response.text();
        if (!response.ok) {
          try { const err = JSON.parse(payloadText); throw new Error(err.error || `HTTP ${response.status}`); }
          catch { throw new Error(`HTTP ${response.status}: ${payloadText.slice(0,200)}...`); }
        }
        let result; try { result = JSON.parse(payloadText); }
        catch { throw new Error('서버 응답을 JSON으로 파싱할 수 없습니다.'); }

        const { audioData, mimeType } = result || {};
        if (!audioData || !mimeType || !mimeType.startsWith('audio/')) {
          throw new Error('서버가 올바른 오디오 데이터를 반환하지 않았습니다.');
        }
        let blob;
        if (mimeType.startsWith('audio/L16') || mimeType.startsWith('audio/linear16')) {
          const rateMatch = mimeType.match(/rate=(\\d+)/i);
          const sampleRate = rateMatch ? parseInt(rateMatch[1],10) : 24000;
          const pcmData = base64ToArrayBuffer(audioData);
          blob = pcmToWav(pcmData, sampleRate);
        } else {
          const arrBuf = base64ToArrayBuffer(audioData);
          blob = new Blob([arrBuf], { type: mimeType });
        }
        const audioUrl = URL.createObjectURL(blob);
        currentAudio = new Audio(audioUrl);
        currentAudio.play().catch(()=>{ console.warn('오디오 자동재생이 차단되었습니다.'); });
        currentAudio.onended = () => {
          buttonElement.classList.remove('loading');
          buttonElement.innerHTML = originalContent;
          URL.revokeObjectURL(audioUrl);
        };
      } catch (e) {
        console.error('오디오 생성/재생 오류:', e);
        alert('오디오를 재생할 수 없습니다. 잠시 후 다시 시도해주세요.');
        buttonElement.classList.remove('loading');
        buttonElement.innerHTML = originalContent;
      }
    }
    document.querySelectorAll('.audio-btn').forEach(btn=>{
      btn.addEventListener('click', (e)=>{
        e.stopPropagation();
        generateAndPlayAudio(btn.dataset.text, btn);
      });
    });

    /***** -------- 정답 데이터 -------- *****/
    // 1~5: 텍스트
    const TEXT_ANSWERS = {
      q1_input: ['뭐를','뭘'],
      q2_input: ['안 만났어요'],
      q3_input: ['쌀'],
      q4_input: ['자주'],
      q5_input: ['들어가요']
    };
    // 6~10: 조사 (정답 표시용)
    const PARTICLE_ANSWERS = { q6:'와', q7:'가', q8:'은', q9:'을', q10:'에' };
    // 11~15: Vrai/Faux (정답 키) - true=Vrai, false=Faux
    const TRUE_FALSE_ANSWERS = { q11:true, q12:false, q13:false, q14:true, q15:false };
    // 16~20: 받아쓰기/결합
    const DICT_COMB_ANSWERS = {
      q16_input:'저는 친구를 안 만나고 영화를 안 봤어요.',
      q17_input:'김치하고 밥을 같이 먹어요.',
      q18_input:'돼지고기를 냄비에 넣고 볶아요.',
      q19_input:'저는 친구를 만나고 영화를 봐요.',
      q20_input:'식당에 들어가고 같이 먹어요.'
    };

    /***** -------- 보조 유틸 -------- *****/
    const norm = (s)=> (s||'').replace(/\s+/g,' ').replace(/[.]\s*$/,'').trim();
    function toggleAnswer(id){ document.getElementById(id)?.classList.toggle('show'); }

    // 조사 선택: 사용자의 선택 저장 + 즉시 피드백
    function checkParticle(questionId, chosenParticle, isCorrect) {
      const answerBox = document.getElementById(questionId + '_answer');
      const optionsContainer = document.getElementById(questionId + '_options');
      const blank = document.getElementById(questionId + '_blank');
      if (!answerBox || !optionsContainer || !blank) return;

      blank.textContent = chosenParticle;
      optionsContainer.dataset.selected = chosenParticle;
      answerBox.classList.add('show');

      optionsContainer.querySelectorAll('button').forEach(btn=>{
        btn.disabled = true;
        if (btn.textContent.trim() === chosenParticle) {
          btn.classList.remove('bg-gray-200','hover:bg-cyan-200');
          if (isCorrect){ btn.classList.add('bg-green-500','text-white'); blank.classList.add('text-green-600'); }
          else { btn.classList.add('bg-red-500','text-white'); blank.classList.add('text-red-600'); }
        } else {
          btn.classList.add('opacity-50');
        }
      });
    }
    // Vrai/Faux: 사용자의 선택 저장 + 즉시 피드백
    function checkTrueFalse(questionId, userChoseVrai) {
      const correct = TRUE_FALSE_ANSWERS[questionId];
      const isUserCorrect = userChoseVrai === correct;

      const answerBox = document.getElementById(questionId + '_answer');
      const optionsContainer = document.getElementById(questionId + '_options');
      if (!answerBox || !optionsContainer) return;

      answerBox.classList.add('show');
      optionsContainer.dataset.selected = userChoseVrai ? 'Vrai' : 'Faux';

      optionsContainer.querySelectorAll('button').forEach(btn=>{
        btn.disabled = true;
        const isVraiBtn = btn.textContent.includes('Vrai');
        const isCorrectBtn = (isVraiBtn && correct) || (!isVraiBtn && !correct);
        if (isCorrectBtn){ btn.classList.add('ring-4','ring-green-500'); }
        else { btn.classList.add('opacity-50'); }
        const isUserBtn = (isVraiBtn && userChoseVrai) || (!isVraiBtn && !userChoseVrai);
        if (isUserBtn){ btn.classList.add(isUserCorrect ? 'bg-green-500' : 'bg-red-500','text-white'); }
      });
    }

    /***** -------- 끝내기(채점 & 제출 1회) -------- *****/
    const finishBtn = document.getElementById('finishBtn');
    const retryBtn = document.getElementById('retryBtn');
    const resultModal = document.getElementById('resultModal');
    const closeResult = document.getElementById('closeResult');
    const okBtn = document.getElementById('okBtn');
    const sendAgainBtn = document.getElementById('sendAgainBtn');
    const scoreValue = document.getElementById('scoreValue');
    const resultTable = document.getElementById('resultTable');
    const sendStatus = document.getElementById('sendStatus');
    const exerciseCard = document.getElementById('exerciseCard');

    const SEND_LOCK_KEY = 'listen_ex_submit_locked_v1';
    let submissionLocked = !!localStorage.getItem(SEND_LOCK_KEY);
    let lastPayload = null;

    function buildRow(n, mine, ans, ok) {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td class="p-2 align-top">${n}</td>
        <td class="p-2 align-top break-words">${mine ? mine : '<span class="text-gray-400">—</span>'}</td>
        <td class="p-2 align-top break-words">${Array.isArray(ans) ? ans.join(' / ') : ans}</td>
        <td class="p-2 align-top ${ok ? 'text-emerald-600' : 'text-red-600'} font-semibold">${ok ? 'O' : 'X'}</td>
      `;
      return tr;
    }

    function collectAndScore() {
      const results = [];
      let score = 0;
      let qNum = 0;

      // 1~5 text
      for (const id of ['q1_input','q2_input','q3_input','q4_input','q5_input']) {
        qNum++;
        const my = norm(document.getElementById(id)?.value);
        const answers = TEXT_ANSWERS[id];
        const isOk = !!answers?.some(a => norm(a) === my);
        if (isOk) score++;
        results.push({ no:qNum, type:'text', key:id, my, correct:answers, ok:isOk });
      }

      // 6~10 particle
      for (const q of ['q6','q7','q8','q9','q10']) {
        qNum++;
        const sel = document.getElementById(q + '_options')?.dataset?.selected || '';
        const ans = PARTICLE_ANSWERS[q];
        const isOk = sel === ans;
        if (isOk) score++;
        results.push({ no:qNum, type:'particle', key:q, my:sel, correct:ans, ok:isOk });
      }

      // 11~15 true/false
      for (const q of ['q11','q12','q13','q14','q15']) {
        qNum++;
        const selStr = document.getElementById(q + '_options')?.dataset?.selected || '';
        const myBool = selStr === 'Vrai';
        const correct = !!TRUE_FALSE_ANSWERS[q];
        const isOk = myBool === correct;
        if (isOk) score++;
        results.push({ no:qNum, type:'truefalse', key:q, my: selStr || null, correct: correct ? 'Vrai' : 'Faux', ok:isOk });
      }

      // 16~20 dict/comb
      for (const id of ['q16_input','q17_input','q18_input','q19_input','q20_input']) {
        qNum++;
        const myRaw = document.getElementById(id)?.value || '';
        const my = norm(myRaw);
        const ans = DICT_COMB_ANSWERS[id];
        const isOk = norm(ans) === my;
        if (isOk) score++;
        results.push({ no:qNum, type:'dict', key:id, my: myRaw, correct: ans, ok:isOk });
      }

      return { score, results };
    }

    function renderResultTable(data) {
      resultTable.innerHTML = '';
      data.results.forEach(r=>{
        const tr = buildRow(r.no, r.my, r.correct, r.ok);
        resultTable.appendChild(tr);
      });
      scoreValue.textContent = data.score;
    }

    async function submitResults(payload, force=false) {
      const teacherEmail = exerciseCard.dataset.teacherEmail || 'teacher@example.com';
      const endpoint = '/.netlify/functions/submit-results';
      sendStatus.textContent = '제출 중… (잠시만요)';
      sendAgainBtn.classList.add('hidden');

      try {
        if (submissionLocked && !force) {
          sendStatus.textContent = '이미 제출되었습니다. (이메일 전송은 최초 1회)';
          return { sent:false, locked:true };
        }

        const res = await fetch(endpoint, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ teacherEmail, ...payload })
        });

        if (!res.ok) {
          const text = await res.text();
          throw new Error(`HTTP ${res.status} - ${text.slice(0,200)}`);
        }

        sendStatus.textContent = '제출 완료! 선생님께 이메일이 전송되었습니다.';
        if (!force) {
          submissionLocked = true;
          localStorage.setItem(SEND_LOCK_KEY, '1');
          finishBtn.disabled = true;
          finishBtn.classList.add('opacity-50','cursor-not-allowed');
          retryBtn.classList.remove('hidden');
        }
        return { sent:true };
      } catch (e) {
        console.error('제출 실패:', e);
        sendStatus.innerHTML = `<span class="text-red-600">제출 실패:</span> ${e.message}`;
        sendAgainBtn.classList.remove('hidden'); // 실패 시 재전송 허용
        return { sent:false, error:e };
      }
    }

    finishBtn.addEventListener('click', async ()=>{
      // 채점
      const data = collectAndScore();
      renderResultTable(data);

      // payload 구성
      const studentName = document.getElementById('student_name')?.value || '';
      const studentEmail = document.getElementById('student_email')?.value || '';
      const now = new Date();
      const payload = {
        title: document.title,
        when: now.toISOString(),
        studentName, studentEmail,
        score: data.score, total: 20,
        results: data.results
      };
      lastPayload = payload;

      // 모달 열기
      resultModal.classList.remove('hidden');
      resultModal.classList.add('flex');

      // 최초 1회만 전송
      await submitResults(payload, /*force*/ false);
    });

    // 모달/버튼
    const closeModal = ()=>{
      resultModal.classList.add('hidden');
      resultModal.classList.remove('flex');
    };
    closeResult.addEventListener('click', closeModal);
    okBtn.addEventListener('click', closeModal);

    // 재전송(실패했을 때만 버튼이 나타남)
    sendAgainBtn.addEventListener('click', async ()=>{
      if (!lastPayload) return;
      await submitResults(lastPayload, /*force*/ true);
    });

    // 다시하기(리셋) — 전송 잠금은 유지(한 번만 메일 전송)
    retryBtn.addEventListener('click', ()=>{
      // 텍스트 입력 리셋
      ['q1_input','q2_input','q3_input','q4_input','q5_input',
       'q16_input','q17_input','q18_input','q19_input','q20_input'
      ].forEach(id=>{ const el=document.getElementById(id); if (el) el.value=''; });

      // 조사/진위 버튼 복구
      ['q6','q7','q8','q9','q10'].forEach(q=>{
        const box = document.getElementById(q + '_options');
        const blank = document.getElementById(q + '_blank');
        if (box) {
          delete box.dataset.selected;
          box.querySelectorAll('button').forEach(btn=>{
            btn.disabled = false;
            btn.classList.remove('opacity-50','bg-green-500','bg-red-500','text-white','ring-4','ring-green-500');
          });
        }
        if (blank) blank.textContent='__', blank.classList.remove('text-green-600','text-red-600');
      });
      ['q11','q12','q13','q14','q15'].forEach(q=>{
        const box = document.getElementById(q + '_options');
        if (box) {
          delete box.dataset.selected;
          box.querySelectorAll('button').forEach(btn=>{
            btn.disabled=false;
            btn.classList.remove('opacity-50','bg-green-500','bg-red-500','text-white','ring-4','ring-green-500');
          });
        }
      });

      // 해설 박스 닫기
      document.querySelectorAll('.answer-box').forEach(b=>b.classList.remove('show'));

      // 점수/표 초기화
      resultTable.innerHTML = '';
      scoreValue.textContent = '0';
      sendStatus.textContent = '';

      // 끝내기 버튼은 잠금 유지로 비활성화, 단 다시하기로 재연습만 가능
      // (메일은 최초 1회만 발송)
      closeModal();
    });
  </script>
<script>
/**
 * Réponse → Indice(힌트)로 버튼 라벨 변경 + 각 문항 힌트(불어/한국어) 주입
 * - 기존 toggleAnswer('qX_answer') 로직/카운트 그대로 사용
 * - 기존 answer-box 배경색/스타일 유지, 내부 내용만 힌트로 교체
 */
document.addEventListener('DOMContentLoaded', () => {
  // 1) "Réponse" 버튼 텍스트를 "Indice"로 일괄 변경
  document.querySelectorAll('button[onclick^="toggleAnswer(\'q"][onclick$="_answer\')"]').forEach(btn => {
    btn.textContent = 'Indice';
    // 원하면 버튼 색도 통일할 수 있어요 (주석 해제)
    // btn.classList.remove('bg-indigo-500','bg-purple-500');
    // btn.classList.add('bg-amber-500','hover:bg-amber-600');
  });

  // 2) 문항별 힌트(불어/한국어) 주입
  const HINTS = {
    1: { fr: `Mot interrogatif pour "quoi" (objet) → "뭐/무엇" + 를. Contraction fréquente: "뭘".`,
         ko: `‘무엇(=뭐)’ + 목적격 조사 ‘를’ → ‘뭘’(구어체).` },
    2: { fr: `Négation avec "안" + passé -았/었어요 du verbe rencontrer(만나다).`,
         ko: `부정 "안" + ‘만나다’ 과거형(만났어요) → "안 만났어요".` },
    3: { fr: `"쌀" = riz cru (non cuit). "밥" = riz cuit.`,
         ko: `‘쌀’은 날쌀, ‘밥’은 지은 밥.` },
    4: { fr: `"자주" = souvent (adverbe de fréquence).`,
         ko: `빈도 부사 ‘자주’ = 자주(종종).` },
    5: { fr: `Entrer = "들어가다". Présent poli: "들어가요".`,
         ko: `‘들어가다’의 현재 존댓말 → ‘들어가요’.` },

    6: { fr: `와/과: après voyelle → "와". (김치 + 와)`,
         ko: `모음 뒤에는 ‘와’, 자음 뒤에는 ‘과’.` },
    7: { fr: `Sujet 이/가: après voyelle → "가". (친구 + 가)`,
         ko: `주격 조사: 모음 뒤 ‘가’, 자음 뒤 ‘이’.` },
    8: { fr: `Thème 은/는: après consonne → "은". (사람 + 은)`,
         ko: `주제 조사: 받침 있으면 ‘은’, 없으면 ‘는’.` },
    9: { fr: `Objet 을/를: après consonne → "을". (밥 + 을)`,
         ko: `목적격 조사: 받침 있으면 ‘을’, 없으면 ‘를’.` },
    10:{ fr: `Destination/lieu d’arrivée avec verbe de mouvement → "에".`,
         ko: `이동/도착 지점에는 ‘에’를 사용.` },

    11:{ fr: `"잘 보여요?" = "Tu me vois bien ?" (bien + voir).`,
         ko: `‘잘 보이다?’ = “잘 보여요?” (상대가 잘 보이는지 묻기).` },
    12:{ fr: `"쌀" = riz, pas "pâtes".`,
         ko: `‘쌀’은 밥쌀, 파스타는 ‘파스타/국수’.` },
    13:{ fr: `"안 만났어요" = ne pas avoir rencontré (négation).`,
         ko: `부정 ‘안’ + 만나다 과거 → ‘안 만났어요’.` },
    14:{ fr: `"가끔" = parfois, de temps en temps.`,
         ko: `‘가끔’ = sometimes(때때로).` },
    15:{ fr: `"집" = maison, "식당" = restaurant (ne pas confondre).`,
         ko: `‘집’=house, ‘식당’=restaurant.` },

    16:{ fr: `Enchaînement avec "-고" et négation "안": …고 …안 ….`,
         ko: `연결 어미 ‘-고’ + 부정 ‘안’ 조합 주의.` },
    17:{ fr: `"하고" = et (pour noms), "같이" = ensemble.`,
         ko: `나열 ‘하고’, 함께 ‘같이’.` },
    18:{ fr: `Connexion d’actions: 넣-고 → 볶아요.`,
         ko: `연결 ‘-고’: 넣고 볶아요.` },
    19:{ fr: `Ordre naturel: 만나고 → (puis) 봐요.`,
         ko: `먼저 만나고, 그다음 본다.` },
    20:{ fr: `Mouvement d’abord (entrer), puis action ensemble.`,
         ko: `먼저 들어가고, 그다음 같이 먹어요.` }
  };

  for (let i = 1; i <= 20; i++) {
    const box = document.getElementById(`q${i}_answer`);
    if (!box || !HINTS[i]) continue;

    // 기존 정답/설명 텍스트를 힌트로 교체(불어+한국어)
    // 색상/테두리 등 기존 answer-box 스타일은 그대로 유지됩니다.
    box.innerHTML = `
      <div class="space-y-1">
        <div class="font-semibold">Indice <span class="text-xs text-gray-500">(힌트)</span></div>
        <div><b>FR :</b> ${HINTS[i].fr}</div>
        <div><b>KO :</b> ${HINTS[i].ko}</div>
      </div>
    `;
  }
});
</script>

</body>
</html>

